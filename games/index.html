---
layout: page
nav_layout: game
title: Games
class: games
---
<div class="filters">
    <button class="active" onclick="toggleAllFilters()">All</button>
    <button id="btn-release" class="active" onclick="toggleFilter('.release')">Full Game</button>
    <button id="btn-gamejam" class="active" onclick="toggleFilter('.gamejam')">Game Jam</button>
    <button id="btn-hackathon" class="active" onclick="toggleFilter('.hackathon')">Hackathon</button>
    <button id="btn-experiment" class="active" onclick="toggleFilter('.experiment')">Experiment</button>
</div>

<div class="grid">
    {% assign games = site.data.games | sort: 'date' %}
    {% for game in games reversed %}
        <article class="grid-item {{game.type_class}} {{game.name}}">
            {% if game.url %}
                <a class="game" href="{{ game.url | prepend: site.baseurl }}" title="{{ game.name }}">
            {% else %}
                <a class="game" title="{{ game.name }}">
            {% endif %}
                <div class="img-holder">
                    {% if game.screenshot %}
                        <img src="{{ game.screenshot | prepend: site.baseurl }}" alt="{{game.name}}">
                    {% else %}
                        <p class="no-img">{{game.name}}</p>
                    {% endif %}
                </div>
                <h2 class="ribbon">
                {{game.name}} &#9679;
                {{game.date | date: '%b %Y'}}
                {% if game.type %}
                    &#9679;
                    {{game.type}}
                {% endif %}
                </h2>
            </a>
        </article>
    {% endfor %}
</div>

<script src="{{ "/js/isotope.min.js" | prepend: site.baseurl }}" type="text/javascript"></script>

<script>
    // init Isotope
    var iso = new Isotope('.grid', {
      itemSelector: '.grid-item',
      layoutMode: 'fitRows',
      stagger: 30
    });

    var filters = {
        ".release": true,
        ".gamejam": true,
        ".hackathon": true,
        ".experiment": true
    };

    var buttons = {
        ".release": document.getElementById("btn-release"),
        ".gamejam": document.getElementById("btn-gamejam"),
        ".hackathon": document.getElementById("btn-hackathon"),
        ".experiment": document.getElementById("btn-experiment")
    };

    function getFilterString(){
        var ret = "";
        var keys = Object.keys(filters);

        if (keys.every(function(key){return filters[key];})){
            ret = "*";
        }
        else {
            keys.forEach(function(key){
                if (filters[key]){
                    ret += (ret.length === 0) ? key : ", " + key;
                }
            });
        }
        return ret || ".shownothing";
    }

    function toggleAllFilters(){
        var keys = Object.keys(filters);
        var isOn = true;
        if (keys.every(function(key){return filters[key];})){
            isOn = false;
        }
        Object.keys(filters).forEach(function(key){
            filters[key] = isOn;
        });
        updateFilter();
    }

    function toggleFilter(key){
        filters[key] = !filters[key];
        updateFilter();
    }

    function updateFilter(){
        iso.arrange({ filter: getFilterString() });
        setActiveButtons();
    }

    function setActiveButtons(){
        Object.keys(filters).forEach(function(key){
            if (filters[key]){
                buttons[key].classList.add('active');
            }
            else {
                buttons[key].classList.remove('active');
            }
        });
    }

</script>